# ูุธุงู ุฅุฏุงุฑุฉ ุงููุฑุงุญู ูุงูููุงููุงุช - ุงูุชูุซูู ุงูุดุงูู

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุชู ุชุญุณูู ูุณู ุงููุฑุงุญู ุจุดูู ุดุงูู ููุตุจุญ ูุธุงูุงู ูุชูุงููุงู ูุฅุฏุงุฑุฉ ุณูุฑ ุงูุนูู ุงููุงูููู ูุน ุฏุนู ูุงูู ููููุงููุงุช ููุชุทูุจุงุช ุงูุชูููุฐ.

---

## โจ ุงููููุฒุงุช ุงูุฌุฏูุฏุฉ

### 1. **ูุชุทูุจุงุช ุงูุชูููุฐ ููู ูุฑุญูุฉ**
ูู ูุฑุญูุฉ ูู ุงููุฑุงุญู ุงูุณุจุน ุชุญุชูู ุนูู ูุงุฆูุฉ ููุตูุฉ ุจูุชุทูุจุงุช ุงูุชูููุฐ:

#### ุงููุฑุงุฌุนุฉ ุงูุฃูููุฉ (ุงููุฑุญูุฉ 1)
- โ ุชุฌููุน ุฌููุน ุงููุณุชูุฏุงุช ุงูุฃุณุงุณูุฉ
- โ ุงูุชุญูู ูู ุงูุชูุงู ุงููููุงุช
- โ ุชูููู ุฃููู ูุตุญุฉ ุงููุซุงุฆู
- โ ุชูุซูู ุฃู ููุต ูู ุงููุณุชูุฏุงุช

#### ุงูุจุญุซ ุงููุงูููู (ุงููุฑุญูุฉ 2)
- โ ุงูุจุญุซ ุนู ุงูุณูุงุจู ุงููุถุงุฆูุฉ ุฐุงุช ุงูุตูุฉ
- โ ุฏุฑุงุณุฉ ุงูููุงููู ูุงูุชุดุฑูุนุงุช ุงููุทุจูุฉ
- โ ุชุญููู ุงูุขุฑุงุก ุงููุงููููุฉ ุงููุชููุนุฉ
- โ ุชูุซูู ุงููุฑุงุฌุน ูุงููุตุงุฏุฑ

#### ุชุญุถูุฑ ุงูุญุฌุฌ (ุงููุฑุญูุฉ 3)
- โ ุตูุงุบุฉ ุงูุญุฌุฌ ุงููุงููููุฉ ุงูุฑุฆูุณูุฉ
- โ ุชูุธูู ุงูุญุฌุฌ ุจุชุฑุชูุจ ููุทูู
- โ ุฅุนุฏุงุฏ ุฑุฏูุฏ ุงุญุชูุงููุฉ
- โ ุชูุซูู ุงูุญุฌุฌ ุจุงููุฑุงุฌุน

#### ุงูุชุญุฑูุฑ ูุงููุฑุงุฌุนุฉ (ุงููุฑุญูุฉ 4)
- โ ุชุญุฑูุฑ ุงููุณุชูุฏุงุช ุจุตูุบุฉ ููุงุฆูุฉ
- โ ูุฑุงุฌุนุฉ ูุบููุฉ ูุฅููุงุฆูุฉ ุดุงููุฉ
- โ ุงูุชุฃูุฏ ูู ุงุชุณุงู ุงููุซุงุฆู
- โ ุชูุณูู ุงููุณุชูุฏุงุช ููู ุงููุนุงููุฑ

#### ุงูุชูุฏูู ูุงูุฅุฌุฑุงุกุงุช (ุงููุฑุญูุฉ 5)
- โ ุชุฌููุฒ ุงููููุงุช ููุชูุฏูู
- โ ุฏูุน ุงูุฑุณูู ูุงูุชูุงููู ุงููุทููุจุฉ
- โ ุชูุฏูู ุงููููุงุช ููุฌูุงุช ุงููุฎุชุตุฉ
- โ ุงูุญุตูู ุนูู ุฅูุตุงูุงุช ูุชุฃููุฏุงุช ุงูุชูุฏูู

#### ุงููุชุงุจุนุฉ (ุงููุฑุญูุฉ 6)
- โ ุงููุชุงุจุนุฉ ุงูููุชุธูุฉ ูุน ุงูุฌูุงุช ุงููุฎุชุตุฉ
- โ ุชุญุฏูุซ ุงูุนููู ุจุฃุญุฏุซ ุงูุชุทูุฑุงุช
- โ ุงูุฑุฏ ุนูู ุงูุงุณุชูุณุงุฑุงุช ูุงูุทูุจุงุช
- โ ุชูุซูู ุงูุชุทูุฑุงุช ูุงูุชุญุฏูุซุงุช

#### ููุชููุฉ (ุงููุฑุญูุฉ 7)
- โ ุฅุนุฏุงุฏ ุงูุชูุฑูุฑ ุงูููุงุฆู
- โ ุชูุซูู ุงููุชูุฌุฉ ูุงูุญูู ุงูููุงุฆู
- โ ุฅุฑุณุงู ุงููุณุชูุฏุงุช ุงูููุงุฆูุฉ ููุนููู
- โ ุฅุบูุงู ููู ุงููุถูุฉ ุจุดูู ุฑุณูู

---

## ๐ ูุธุงู ุงูููุงููุงุช ุงููุชูุงูู

### ุฃููุงุน ุงูููุงููุงุช
1. **ููุงููุฉ ุงูุฅุฏุงุฑุฉ** (Admin Approval)
   - ูุฌุจ ููุงููุฉ ูุณุคูู ุงูุฅุฏุงุฑุฉ
   - ุฅุฌุจุงุฑูุฉ ูู ุฌููุน ุงููุฑุงุญู

2. **ููุงููุฉ ุงููุญุงูู ุงูุฑุฆูุณู** (Main Lawyer Approval)
   - ูุฌุจ ููุงููุฉ ุงููุญุงูู ุงูุฑุฆูุณู
   - ุฅุฌุจุงุฑูุฉ ูู ูุฑุงุญู ุงูุจุญุซ ูุงูุญุฌุฌ ูุงูุชุญุฑูุฑ

3. **ููุงููุฉ ุงููุญุงูู ุงููููู** (Assigned Lawyer Approval)
   - ูุฌุจ ููุงููุฉ ุงููุญุงูู ุงููููู ุจุงููููุฉ
   - ุฅุฌุจุงุฑูุฉ ูู ุฌููุน ุงููุฑุงุญู

### ุญุงูุงุช ุงูููุงููุฉ
```javascript
// ุงูุญุงูุงุช ุงูููููุฉ ููููุงููุฉ:
{
  approval_status: 'pending',              // ูู ุงูุงูุชุธุงุฑ
  approved_by_admin: true/false,            // ููุงููุฉ ุงูุฅุฏุงุฑุฉ
  approved_by_main_lawyer: true/false,      // ููุงููุฉ ุงููุญุงูู ุงูุฑุฆูุณู
  approved_by_assigned_lawyer: true/false,  // ููุงููุฉ ุงููุญุงูู ุงููููู
  approval_status: 'approved'               // ููุงููุฉ ููุงุฆูุฉ
}
```

---

## ๐จ ูุงุฌูุฉ ุงููุณุชุฎุฏู ุงููุญุณููุฉ

### 1. **ุนุฑุถ ุงููุฑุงุญู**
- ุชุตููู ุจุทุงูุฉ ููู ูุฑุญูุฉ ูุน ููู ูููุฒ
- ุนุฑุถ ุนุฏุฏ ุงูููุงู ูู ูู ูุฑุญูุฉ
- ุฒุฑ ุงูุชูุณูุน/ุงูุฅุบูุงู ูุฑุคูุฉ ุงูุชูุงุตูู

### 2. **ูุนูููุงุช ุงููููุฉ**
- ุฑูุฒ ุงููููุฉ ุงููุฑูุฏ (#TSK-2025-001)
- ุนููุงู ูุตู ุงููููุฉ
- ุญุงูุฉ ุงูููุงููุฉ (ููุฏ ุงูููุงููุฉ / ููุงููุฉ ุนูููุง / ูุฑููุถุฉ)
- ูุณุชูู ุงูุฃููููุฉ (ุนุงููุฉ / ูุชูุณุทุฉ / ููุฎูุถุฉ)
- ุดุฑูุท ุงูุชูุฏู ุงูุจุตุฑู

### 3. **ุชูุงุตูู ุงูููุงููุงุช**
ุนูุฏ ุงูุถุบุท ุนูู ุฃู ูููุฉุ ุชุธูุฑ ุชูุงุตูู ุฌููุน ุงูููุงููุงุช:
- โ ุญุงูุฉ ููุงููุฉ ุงูุฅุฏุงุฑุฉ (ุฃููููุฉ ุฎุถุฑุงุก ุฃู ุฑูุงุฏูุฉ)
- โ ุญุงูุฉ ููุงููุฉ ุงููุญุงูู ุงูุฑุฆูุณู
- โ ุญุงูุฉ ููุงููุฉ ุงููุญุงูู ุงููููู

### 4. **ูุชุทูุจุงุช ุงููุฑุญูุฉ**
ุนูุฏ ุงูุถุบุท ุนูู ุนููุงู ุงููุฑุญูุฉ:
- ุชุธูุฑ ูุงุฆูุฉ ุจุฌููุน ูุชุทูุจุงุช ุงูุชูููุฐ
- ูุนูููุงุช ุฅุถุงููุฉ ุญูู ุงููุฑุญูุฉ
- ููุน ุงูููุงููุงุช ุงููุทููุจุฉ

### 5. **ููุญุฉ ุงูุฅุญุตุงุฆูุงุช**
ุนุฑุถ ููุฎุต ุดุงูู ูู ุงูุฃุณูู:
- ุฅุฌูุงูู ุงููุฑุงุญู
- ุฅุฌูุงูู ุงูููุงู
- ุงูููุงู ููุฏ ุงูููุงููุฉ
- ุงูููุงู ุงูููุงููุฉ ุนูููุง

---

## ๐ง API ุงูุฌุฏูุฏุฉ ูุงููุญุณููุฉ

### 1. **GET /api/stages** - ุฌููุน ุงููุฑุงุญู
```javascript
// ุงูุงุณุชุฌุงุจุฉ ุชุชุถูู:
{
  id: 1,
  name: "ุงููุฑุงุฌุนุฉ ุงูุฃูููุฉ",
  order: 1,
  color: "#FEF3C7",
  description: "ูุฑุญูุฉ ุงููุฑุงุฌุนุฉ ุงูุฃูููุฉ ูููุณุชูุฏุงุช",
  requirements: "โ ุชุฌููุน ุฌููุน ุงููุณุชูุฏุงุช ุงูุฃุณุงุณูุฉ...",
  approval_type: "admin_only",
  task_count: 4,
  approved_count: 2,
  pending_count: 2,
  completion_percentage: 50
}
```

### 2. **GET /api/stages/:id** - ูุฑุญูุฉ ูุญุฏุฏุฉ ูุน ุงูุชูุงุตูู
```javascript
// ูุชุถูู:
{
  ...stage_data,
  tasks: [...],
  approval_stats: {
    total: 4,
    approved: 2,
    pending_admin: 1,
    pending_main_lawyer: 2,
    pending_assigned_lawyer: 1
  }
}
```

### 3. **GET /api/stages/:id/tasks** - ููุงู ุงููุฑุญูุฉ
```javascript
// ูู ูููุฉ ุชุญุชูู ุนูู:
{
  id: 1,
  title: "ูุฑุงุฌุนุฉ ุงูุนูุฏ ุงูุฃูู",
  approval_status: "pending",
  approved_by_admin: true,
  approved_by_main_lawyer: false,
  approved_by_assigned_lawyer: false,
  approval_summary: {
    admin: "โ ููุงูู",
    main_lawyer: "โณ ูู ุงูุงูุชุธุงุฑ",
    assigned_lawyer: "โณ ูู ุงูุงูุชุธุงุฑ"
  }
}
```

### 4. **POST /api/stages/task/:taskId/stage/:stageId** - ููู ุงููููุฉ
```javascript
// ูุญุชุงุฌ ุนูู:
// - ุงูุชุญูู ูู ุงูููุงููุงุช ุงููุทููุจุฉ ูุจู ุงูููู
// - ุชุญุฏูุซ ุงูุชูุฏู ุชููุงุฆูุงู ุจูุงุกู ุนูู ุชุฑุชูุจ ุงููุฑุญูุฉ
// - ุชุณุฌูู ุงููุดุงุท

// ุงูุงุณุชุฌุงุจุฉ:
{
  message: "ุชู ููู ุงููููุฉ ุจูุฌุงุญ",
  task: {...updated_task},
  stage: {...stage_data},
  progress: 43 // ูุณุจุฉ ุงูุชูุฏู ุงูุฌุฏูุฏุฉ
}
```

### 5. **POST /api/stages/:stageId/tasks/:taskId/approve** - ููุงููุฉ ุนูู ุงููููุฉ
```javascript
// ูุญุฏุซ ุญุงูุฉ ุงูููุงููุฉ ุจูุงุกู ุนูู ุฏูุฑ ุงููุณุชุฎุฏู:
// - Admin โ approved_by_admin = true
// - Main Lawyer โ approved_by_main_lawyer = true
// - Assigned Lawyer โ approved_by_assigned_lawyer = true

// ุนูุฏูุง ุชููู ุฌููุน ุงูููุงููุงุช ููุฌูุฏุฉ:
// approval_status = 'approved'
```

### 6. **GET /api/stages-analytics/summary** - ุฅุญุตุงุฆูุงุช ุดุงููุฉ
```javascript
{
  total_stages: 7,
  total_tasks: 10,
  approved_tasks: 6,
  pending_approval_tasks: 4,
  completed_stages: 2,
  stages_data: [
    {
      id: 1,
      name: "ุงููุฑุงุฌุนุฉ ุงูุฃูููุฉ",
      task_count: 4,
      approved_count: 2,
      pending_count: 2,
      requirements: "..."
    }
  ]
}
```

---

## ๐ ููุงุท ููุงูุฉ ุฅุถุงููุฉ ูุชููุฑุฉ

### 1. **CREATE - POST /api/stages**
ุฅูุดุงุก ูุฑุญูุฉ ุฌุฏูุฏุฉ ูุน ุชุญุฏูุฏ:
- ุงูุงุณู ูุงูุชุฑุชูุจ ูุงูููู
- ุงููุตู ุงููุงูู
- ูุชุทูุจุงุช ุงูุชูููุฐ
- ููุน ุงูููุงููุฉ (single/multiple/admin_only)

### 2. **UPDATE - PUT /api/stages/:id**
ุชุญุฏูุซ ุฃู ุญูู ูู ุญููู ุงููุฑุญูุฉ
- ูุชุทูุจ ุตูุงุญูุงุช admin ุฃู department_head

### 3. **DELETE - DELETE /api/stages/:id**
ุญุฐู ูุฑุญูุฉ (ุจุดุฑุท ุนุฏู ูุฌูุฏ ููุงู ูููุง)
- ูุชุทูุจ ุตูุงุญูุงุช admin ููุท

---

## ๐ ุงูุจูุงูุงุช ุงููุนุงูุฌุฉ ุชููุงุฆูุงู

### ุญุณุงุจ ุงูุชูุฏู
```javascript
progress = (currentStageOrder / totalStages) * 100
// ูุซุงู: ุงููุฑุญูุฉ 3 ูู 7 = (3/7) * 100 = 43%
```

### ุชุญุฏูุซ ุงูุญุงูุฉ
```javascript
if (stageOrder === totalStages - 1) {
  status = 'completed';
} else {
  status = 'in_progress';
}
```

### ุชุณุฌูู ุงููุดุงุท
ูู ุนูููุฉ (ุฅูุดุงุกุ ุชุญุฏูุซุ ูููุ ููุงููุฉ) ูุชู ุชุณุฌูููุง ูู ุณุฌู ุงููุดุงุทุงุช

---

## ๐ ุตูุงุญูุงุช ุงูุชุญูู

### Admin ููุท
- โ ุฅุถุงูุฉ ูุฑุญูุฉ ุฌุฏูุฏุฉ
- โ ุชุญุฏูุซ ูุฑุญูุฉ
- โ ุญุฐู ูุฑุญูุฉ
- โ ุงูููุงููุฉ ุนูู ุงูููุงู (approved_by_admin)
- โ ุนุฑุถ ุฌููุน ุงูุฅุญุตุงุฆูุงุช

### Department Head
- โ ุฅุถุงูุฉ ูุฑุญูุฉ
- โ ุชุญุฏูุซ ูุฑุญูุฉ
- โ ููู ููุงู ุจูู ุงููุฑุงุญู
- โ ุนุฑุถ ููุงู ุงููุณู

### Lawyer
- โ ููู ููุงู ุจูู ุงููุฑุงุญู
- โ ุงูููุงููุฉ ุนูู ุงูููุงู ุงูููููุฉ
- โ ุนุฑุถ ุงูุชูุงุตูู

---

## ๐ฏ ุญุงูุงุช ุงูุงุณุชุฎุฏุงู ุงูุดุงููุฉ

### 1. **ุฅูุดุงุก ูููุฉ ุฌุฏูุฏุฉ**
- ุชุจุฏุฃ ูู ุงููุฑุญูุฉ ุงูุฃููู (ุงููุฑุงุฌุนุฉ ุงูุฃูููุฉ)
- ุฌููุน ุญููู ุงูููุงููุฉ = false
- approval_status = 'pending'
- progress = 0%

### 2. **ููู ุงููููุฉ ูููุฑุญูุฉ ุงูุชุงููุฉ**
- ูุฌุจ ุฃู ุชููู ุฌููุน ุงูููุงููุงุช ุงููุทููุจุฉ ููุฌูุฏุฉ
- ูุชู ุชุญุฏูุซ ุงูุชูุฏู ุชููุงุฆูุงู
- ูุชู ุชุณุฌูู ุงููุดุงุท

### 3. **ุงูููุงููุฉ ุนูู ุงููููุฉ**
- ูู ุฏูุฑ ููุธู ููุงูู ุนูู ุฌุฒุก ูู ุงูููุงููุงุช
- ุนูุฏูุง ุชูุชูู ุฌููุน ุงูููุงููุงุช: approval_status = 'approved'
- ูููู ููู ุงููููุฉ ูููุฑุญูุฉ ุงูุชุงููุฉ

### 4. **ุฅููุงู ุงููููุฉ**
- ุชุตู ูููุฑุญูุฉ ุงูุณุงุจุนุฉ (ููุชููุฉ)
- status = 'completed'
- progress = 100%
- ูุชู ุฅุบูุงู ููู ุงููููุฉ

---

## ๐ฑ ุงูุงุณุชุฌุงุจุฉ ุงูุณุฑูุนุฉ

ุงูุตูุญุฉ ูุตููุฉ ุจูุธุงู responsive ูุฏุนู:
- โ ุงูููุงุชู ุงูุฐููุฉ
- โ ุงูุฃุฌูุฒุฉ ุงูููุญูุฉ
- โ ุฃุฌูุฒุฉ ุงูููุจููุชุฑ

---

## ๐ ุงูุฃุฏุงุก ูุงูุชุญุณููุงุช

- โ ุชุญููู ุจูุงูุงุช ุงููุฑุงุญู ูุงูููุงู ุจุดูู ูุชูุงุฒู
- โ ุชุฎุฒูู ูุคูุช (caching) ููุจูุงูุงุช
- โ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ุงูุดุงููุฉ ูุน ุฑุณุงุฆู ูุงุถุญุฉ
- โ ุชุญุฏูุซ ูุงุฌูุฉ ุงููุณุชุฎุฏู ุชููุงุฆูุงู ุจุนุฏ ุฃู ุนูููุฉ
- โ ุฏุนู ุงููุบุฉ ุงูุนุฑุจูุฉ ุงููุงูู

---

## ๐ ุงูุชุนูููุงุช ูุงูููุงุญุธุงุช

### ุงูุงุณุชุฎุฏุงู ูู ุงููุงุฌูุฉ
1. **ุงููุฑ ุนูู ุงุณู ุงููุฑุญูุฉ** ูุฑุคูุฉ/ุฅุฎูุงุก ุงูุชูุงุตูู
2. **ุงููุฑ ุนูู ุงููููุฉ** ูุฑุคูุฉ ุชูุงุตูู ุงูููุงููุงุช
3. **ุงุณุชุฎุฏู ุงูุฃุฒุฑุงุฑ** ูููู ุงูููุงู ุจูู ุงููุฑุงุญู
4. **ุงุณุชุฎุฏู ุฒุฑ +** ูุฅุถุงูุฉ ูุฑุญูุฉ ุฌุฏูุฏุฉ (Admin ููุท)

### ุงูุจูุงูุงุช ุงููุณุชุฎุฏูุฉ ุญุงููุงู
- 7 ูุฑุงุญู ูุงููููุฉ ูุนุฑููุฉ ูุณุจูุงู
- 10 ููุงู ุนููุฉ ููุฒุนุฉ ุนูู ุงููุฑุงุญู
- 5 ูุณุชุฎุฏููู (1 Adminุ 2 Lawyersุ 1 Department Headุ 1 Assistant)

---

## ๐ ุงูุชุทูุฑุงุช ุงููุณุชูุจููุฉ ุงููุญุชููุฉ

- [ ] ุฅุถุงูุฉ ุฎุงุตูุฉ ุงูุณุญุจ ูุงูุฅููุงุช (Drag & Drop)
- [ ] ุฑุณูู ุจูุงููุฉ ูุชุชุจุน ุงูููุงููุงุช
- [ ] ุชูุจููุงุช ููููุงููุงุช ุงููุนููุฉ
- [ ] ุชูุงุฑูุฑ ุชูุตูููุฉ ุนู ูู ูุฑุญูุฉ
- [ ] ุฏุนู ุงูููุงู ุงููุฑุนูุฉ
- [ ] ูุณุฎ ุงุญุชูุงุทูุฉ ููููุงู ุงูููุชููุฉ

---

**ุขุฎุฑ ุชุญุฏูุซ:** `2025-01-16`
**ุงูุญุงูุฉ:** โ ูุธุงู ูุชูุงูู ูุฌุงูุฒ ููุงุณุชุฎุฏุงู
